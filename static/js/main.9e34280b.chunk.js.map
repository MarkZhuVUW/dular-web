{"version":3,"sources":["contexts/LocaleContext.ts","contexts/LocalStorageContext.ts","providers/LocalStorageProvider.tsx","contexts/ThemeContext.ts","providers/LocaleProvider.tsx","themes/Dark.ts","themes/Light.ts","providers/ThemeProvider.tsx","contexts/RouteContext.ts","providers/RouteProvider.tsx","components/select/Locale.tsx","components/select/Theme.tsx","components/common/Menu.tsx","components/common/Layout.tsx","containers/debug/LocaleDebug.tsx","containers/debug/LocalStorageDebug.tsx","containers/debug/index.js","containers/index.tsx","index.tsx"],"names":["Locale","LocalStorageContext","createContext","keys","console","warn","getItem","key","getItemOrDefault","defaultValue","setItem","value","removeItem","useLocalStorage","useContext","localStorage","window","LocalStorageProvider","children","payload","JSON","parse","e","message","Provider","result","i","length","push","stringify","Theme","LocaleContext","locale","enUS","setLocale","t","text","useLocale","localeMap","zhCN","zhTW","LocaleProvider","useState","setLocaleState","ThemeContext","theme","Dark","setTheme","dark","createMuiTheme","palette","type","background","default","primary","main","light","contrastText","secondary","ThemeProvider","prefersDarkMode","useMediaQuery","Light","setThemeState","muiTheme","muiThemeDark","muiThemeLight","CssBaseline","RouteContext","makeRoutes","routes","debug","redirect","path","useRoute","RouteProviderContent","history","useHistory","url","useRouteMatch","Object","map","ChildrenComponent","ChildrenComponentWrapper","params","useParams","join","exact","RouteProvider","ALL_LOCALES","StyledTranslateIcon","styled","TranslateIcon","StyledButton","Button","SelectLocale","anchorEl","setAnchorEl","handleClose","aria-haspopup","onClick","event","currentTarget","keepMounted","open","Boolean","onClose","filter","x","handleClickItem","StyledIconButton","IconButton","SelectTheme","StyledCollapse","Collapse","MenuItem","item","hasChildren","undefined","defaultOpen","setOpen","ListItem","button","icon","ListItemIcon","ListItemText","title","in","timeout","unmountOnExit","List","component","disablePadding","subItem","Menu","items","StyledDrawer","Drawer","DrawerMenu","anchor","StyledTypography","Typography","StyledContainer","Container","DefaultLayout","menuItems","menuOpen","setMenuOpen","AppBar","Toolbar","StyledPaper","Paper","LocaleDebug","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","LocalStorageDebug","DebugContent","Debug","Home","App","flowRight","Component","props","Containers","render","document","getElementById"],"mappings":"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","file":"static/js/main.9e34280b.chunk.js","sourcesContent":["import { createContext, useContext } from \"react\";\n\nexport enum Locale {\n  enUS = \"en_US\",\n  zhCN = \"zh_CN\",\n  zhTW = \"zh_TW\",\n}\n\nexport type LocaleContextType = {\n  locale: Locale;\n  setLocale: (locale: Locale) => void;\n  t: (text: string) => string;\n};\n\nexport const LocaleContext = createContext<LocaleContextType>({\n  locale: Locale.enUS,\n  setLocale: (locale) => {\n    console.warn(`Failed to set locale = ${locale}, no locale provider`);\n  },\n  t: (text) => {\n    console.warn(`Failed to translate text = ${text}, no locale provider`);\n    return text;\n  },\n});\n\nexport const useLocale = () => useContext(LocaleContext);\n","import { createContext, useContext } from \"react\";\n\nexport type LocalStorageContextType = {\n  keys: () => string[];\n  getItem: (key: string) => any;\n  getItemOrDefault: (key: string, defaultValue: any) => any;\n  setItem: (key: string, value: any) => void;\n  removeItem: (key: string) => void;\n};\n\nexport const LocalStorageContext = createContext<LocalStorageContextType>({\n  keys: () => {\n    console.warn(\"Failed to get keys, no local storage provider\");\n    return [];\n  },\n  getItem: (key) => {\n    console.warn(\n      `Failed to find item with key = ${key}, no local storage provider`\n    );\n    return null;\n  },\n  getItemOrDefault: (key, defaultValue = null) => {\n    console.warn(\n      `Failed to find item with key = ${key}, no local storage provider`\n    );\n    return defaultValue;\n  },\n  setItem: (key, value) => {\n    console.warn(\n      `Failed to set item with key = ${key} and value = ${value}, not local storage provider`\n    );\n  },\n  removeItem: (key) => {\n    console.warn(\n      `Failed to remove item with key = ${key}, no local storage provider`\n    );\n  },\n});\n\nexport const useLocalStorage = () => useContext(LocalStorageContext);\n","import { FC, ComponentType } from \"react\";\nimport { LocalStorageContext } from \"../contexts/LocalStorageContext\";\n\nconst localStorage = window.localStorage;\n\nexport const LocalStorageProvider: FC = ({ children }) => {\n  const keys = () => {\n    const result: string[] = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      result.push(localStorage.key(i) as string);\n    }\n    return result;\n  };\n\n  const getItemOrDefault = (key: string, defaultValue: any = null) => {\n    try {\n      const payload = localStorage.getItem(key);\n      if (payload === null) {\n        return defaultValue;\n      }\n      return JSON.parse(payload);\n    } catch (e) {\n      console.warn(`Failed to get item with key = ${key}, ${e.message}`);\n      return defaultValue;\n    }\n  };\n\n  const getItem = (key: string) => getItemOrDefault(key);\n\n  const setItem = (key: string, value: any) => {\n    localStorage.setItem(key, JSON.stringify(value));\n  };\n\n  const removeItem = (key: string) => {\n    localStorage.removeItem(key);\n  };\n\n  return (\n    <LocalStorageContext.Provider\n      value={{ keys, getItem, getItemOrDefault, setItem, removeItem }}\n    >\n      {children}\n    </LocalStorageContext.Provider>\n  );\n};\n\nexport const withLocalStorage = <PropsType extends object>(\n  Component: ComponentType<PropsType>\n): FC<PropsType> => (props: PropsType) => (\n  <LocalStorageProvider>\n    <Component {...props} />\n  </LocalStorageProvider>\n);\n","import { createContext, useContext } from \"react\";\n\nexport enum Theme {\n  Dark = \"dark\",\n  Light = \"light\",\n}\n\nexport type ThemeContextType = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n};\n\nexport const ThemeContext = createContext<ThemeContextType>({\n  theme: Theme.Dark,\n  setTheme: (theme) => {\n    console.warn(`Failed to set theme = ${theme}, no theme provider`);\n  },\n});\n\nexport const useTheme = () => useContext(ThemeContext);\n","import { useState, FC, ComponentType } from \"react\";\nimport { Locale, LocaleContext } from \"../contexts/LocaleContext\";\nimport { useLocalStorage } from \"../contexts/LocalStorageContext\";\n\nimport enUS from \"../locales/en_US.json\";\nimport zhCN from \"../locales/zh_CN.json\";\nimport zhTW from \"../locales/zh_TW.json\";\n\nexport const localeMap: { [key: string]: { [key: string]: string } } = {\n  [Locale.enUS]: enUS,\n  [Locale.zhCN]: zhCN,\n  [Locale.zhTW]: zhTW,\n};\n\nexport const LocaleProvider: FC = ({ children }) => {\n  const { getItemOrDefault, setItem } = useLocalStorage();\n\n  const [locale, setLocaleState] = useState(\n    getItemOrDefault(\"locale\", Locale.enUS)\n  );\n\n  const setLocale = (locale: Locale) => {\n    setItem(\"locale\", locale);\n    setLocaleState(locale);\n  };\n\n  const t = (text: string) => localeMap[locale][text];\n\n  return (\n    <LocaleContext.Provider value={{ locale, setLocale, t }}>\n      {children}\n    </LocaleContext.Provider>\n  );\n};\n\nexport const withLocale = <PropsType extends object>(\n  Component: ComponentType<PropsType>\n): FC<PropsType> => (props: PropsType) => (\n  <LocaleProvider>\n    <Component {...props} />\n  </LocaleProvider>\n);\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nconst dark = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    background: {\n      default: \"rgb(33, 33, 33)\",\n    },\n    primary: {\n      main: \"rgb(51, 51, 51)\",\n    },\n  },\n});\n\nexport default dark;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nconst light = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#757ce8\",\n      main: \"#3f50b5\",\n      dark: \"#002884\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\",\n    },\n  },\n});\n\nexport default light;\n","import { FC, useState, ComponentType } from \"react\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { Theme, ThemeContext } from \"../contexts/ThemeContext\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { useLocalStorage } from \"../contexts/LocalStorageContext\";\n\nimport muiThemeDark from \"../themes/Dark\";\nimport muiThemeLight from \"../themes/Light\";\n\nexport const ThemeProvider: FC = ({ children }) => {\n  const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n  const { getItemOrDefault, setItem } = useLocalStorage();\n\n  const [theme, setThemeState] = useState(\n    getItemOrDefault(\"theme\", prefersDarkMode ? Theme.Dark : Theme.Light)\n  );\n\n  const setTheme = (theme: Theme) => {\n    setItem(\"theme\", theme);\n    setThemeState(theme);\n  };\n\n  const muiTheme = theme === Theme.Dark ? muiThemeDark : muiThemeLight;\n\n  return (\n    <MuiThemeProvider theme={muiTheme}>\n      <ThemeContext.Provider value={{ theme, setTheme }}>\n        <CssBaseline />\n        {children}\n      </ThemeContext.Provider>\n    </MuiThemeProvider>\n  );\n};\n\nexport const withTheme = <PropsType extends object>(\n  Component: ComponentType<PropsType>\n): FC<PropsType> => (props: PropsType) => (\n  <ThemeProvider>\n    <Component {...props} />\n  </ThemeProvider>\n);\n","import { createContext, useContext, ReactElement } from \"react\";\n\nexport type RouteParams = {\n  [key: string]: string;\n};\n\nexport interface IRouteComponent {\n  (params: RouteParams): ReactElement | null;\n}\n\nexport type RouteContextType = {\n  makeRoutes: (routes: {\n    [key: string]: IRouteComponent;\n  }) => ReactElement | null;\n  redirect: (path: string) => void;\n};\n\nexport const RouteContext = createContext<RouteContextType>({\n  makeRoutes: (routes: { [key: string]: IRouteComponent }) => {\n    console.warn(`Failed to make routes, no route provider`);\n    console.debug(\"routes\", routes);\n    return null;\n  },\n  redirect: (path: string) => {\n    console.warn(`Failed to redirect to ${path}, no route provider`);\n  },\n});\n\nexport const useRoute = () => useContext(RouteContext);\n\nexport const makeRoutes = (routes: { [key: string]: IRouteComponent }) =>\n  useRoute().makeRoutes(routes);\n","import { FC, ComponentType } from \"react\";\nimport {\n  Switch,\n  Route,\n  BrowserRouter,\n  useRouteMatch,\n  useParams,\n  useHistory,\n} from \"react-router-dom\";\nimport { RouteContext, IRouteComponent } from \"../contexts/RouteContext\";\nimport { join } from \"path\";\n\nconst RouteProviderContent: FC = ({ children }) => {\n  const makeRoutes = (routes: { [key: string]: IRouteComponent }) => {\n    const { url } = useRouteMatch();\n\n    return (\n      <Switch>\n        {Object.keys(routes).map((key) => {\n          const ChildrenComponent = routes[key];\n\n          const ChildrenComponentWrapper: FC = () => {\n            const params = useParams();\n            return <ChildrenComponent {...params} />;\n          };\n\n          return (\n            <Route key={key} path={join(url, key)} exact={key === \"/\"}>\n              <ChildrenComponentWrapper />\n            </Route>\n          );\n        })}\n        <Route key={404} path=\"*\">\n          <div>404</div>\n        </Route>\n      </Switch>\n    );\n  };\n\n  const history = useHistory();\n\n  const redirect = (path: string) => {\n    history.push(path);\n  };\n\n  return (\n    <RouteContext.Provider value={{ makeRoutes, redirect }}>\n      {children}\n    </RouteContext.Provider>\n  );\n};\n\nexport const RouteProvider: FC = ({ children }) => (\n  <BrowserRouter>\n    <RouteProviderContent>{children}</RouteProviderContent>\n  </BrowserRouter>\n);\n\nexport const withRoute = <PropsType extends object>(\n  Component: ComponentType<PropsType>\n): FC<PropsType> => (props: PropsType) => (\n  <RouteProvider>\n    <Component {...props} />\n  </RouteProvider>\n);\n","import { MouseEvent, useState, FC } from \"react\";\nimport styled from \"@emotion/styled\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TranslateIcon from \"@material-ui/icons/Translate\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { Locale, useLocale } from \"../../contexts/LocaleContext\";\n\nconst ALL_LOCALES = [Locale.enUS, Locale.zhCN, Locale.zhTW];\n\nconst StyledTranslateIcon = styled(TranslateIcon)`\n  margin-right: 5px;\n`;\n\nconst StyledButton = styled(Button)`\n  color: inherit;\n`;\n\nconst SelectLocale: FC = () => {\n  const { locale, setLocale, t } = useLocale();\n\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n\n  const handleClick = (event: MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClickItem = (locale: Locale) => {\n    setLocale(locale);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <StyledButton aria-haspopup={true} onClick={handleClick}>\n        <StyledTranslateIcon /> {t(locale)} <ExpandMoreIcon />\n      </StyledButton>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {ALL_LOCALES.filter((x) => x !== locale).map((locale) => (\n          <MenuItem key={locale} onClick={() => handleClickItem(locale)}>\n            {t(locale)}\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  );\n};\n\nexport default SelectLocale;\n","import { FC } from \"react\";\nimport styled from \"@emotion/styled\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Theme, useTheme } from \"../../contexts/ThemeContext\";\nimport WbSunnyIcon from \"@material-ui/icons/WbSunny\";\nimport NightsStayIcon from \"@material-ui/icons/NightsStay\";\n\nconst StyledIconButton = styled(IconButton)`\n  color: inherit;\n`;\n\nconst SelectTheme: FC = () => {\n  const { theme, setTheme } = useTheme();\n\n  const switchTheme = () => {\n    setTheme(theme === Theme.Light ? Theme.Dark : Theme.Light);\n  };\n\n  return (\n    <StyledIconButton onClick={switchTheme}>\n      {theme === Theme.Light ? <WbSunnyIcon /> : <NightsStayIcon />}\n    </StyledIconButton>\n  );\n};\n\nexport default SelectTheme;\n","import { ComponentType, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { useRoute } from \"contexts/RouteContext\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport Drawer from \"@material-ui/core/Drawer\";\n\nexport type MenuItemType = {\n  path: string;\n  icon?: ComponentType | null;\n  title: string;\n  onClick?: () => void;\n  children?: Array<MenuItemType>;\n  defaultOpen?: boolean;\n};\n\nconst StyledCollapse = styled(Collapse)`\n  padding-left: 1rem;\n`;\n\nexport const MenuItem = ({ item }: { item: MenuItemType }) => {\n  const hasChildren = item.children !== undefined && item.children.length > 0;\n\n  const [open, setOpen] = useState(item.defaultOpen === true);\n  const { redirect } = useRoute();\n\n  const onClick = () => {\n    if (hasChildren) {\n      setOpen(!open);\n    } else {\n      if (item.onClick !== undefined) {\n        item.onClick();\n      } else {\n        redirect(item.path);\n      }\n    }\n  };\n\n  return (\n    <>\n      <ListItem button onClick={onClick}>\n        {item.icon !== undefined && <ListItemIcon>{item.icon}</ListItemIcon>}\n        <ListItemText primary={item.title} />\n        {hasChildren && (open ? <ExpandLess /> : <ExpandMore />)}\n      </ListItem>\n      {hasChildren && (\n        <StyledCollapse in={open} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n            {(item.children || []).map((subItem) => (\n              <MenuItem key={subItem.path} item={subItem} />\n            ))}\n          </List>\n        </StyledCollapse>\n      )}\n    </>\n  );\n};\n\nexport const Menu = ({ items = [] }: { items: Array<MenuItemType> }) => (\n  <List>\n    {items.map((item) => (\n      <MenuItem key={item.path} item={item} />\n    ))}\n  </List>\n);\n\nconst StyledDrawer = styled(Drawer)`\n  .MuiDrawer-paper {\n    min-width: 15rem;\n  }\n`;\n\nexport const DrawerMenu = ({\n  anchor = \"left\",\n  open = true,\n  items = [],\n  onClose = () => null,\n}: {\n  open?: boolean;\n  anchor?: \"top\" | \"left\" | \"bottom\" | \"right\";\n  items: Array<MenuItemType>;\n  onClose?: () => void;\n}) => (\n  <StyledDrawer anchor={anchor} open={open} onClose={onClose}>\n    <Menu items={items} />\n  </StyledDrawer>\n);\n","import { ReactElement, useState } from \"react\";\nimport { useLocale } from \"contexts/LocaleContext\";\nimport styled from \"@emotion/styled\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Container from \"@material-ui/core/Container\";\nimport SelectLocale from \"components/select/Locale\";\nimport SelectTheme from \"components/select/Theme\";\nimport { MenuItemType, DrawerMenu } from \"components/common/Menu\";\n\nconst StyledIconButton = styled(IconButton)`\n  color: inherit;\n`;\n\nconst StyledTypography = styled(Typography)`\n  flex: 1;\n`;\n\nconst StyledContainer = styled(Container)`\n  padding-top: 100px;\n`;\n\nexport const DefaultLayout = ({\n  title = \"app_name\",\n  menuItems = [],\n  children,\n}: {\n  title?: string;\n  menuItems?: Array<MenuItemType>;\n  children: ReactElement;\n}) => {\n  const { t } = useLocale();\n  const [menuOpen, setMenuOpen] = useState(false);\n  return (\n    <>\n      <AppBar>\n        <Toolbar>\n          <StyledIconButton onClick={() => setMenuOpen(true)}>\n            <MenuIcon />\n          </StyledIconButton>\n          <StyledTypography>{t(title)}</StyledTypography>\n          <SelectLocale />\n          <SelectTheme />\n        </Toolbar>\n      </AppBar>\n      <DrawerMenu\n        items={menuItems}\n        open={menuOpen}\n        onClose={() => setMenuOpen(false)}\n      />\n      <StyledContainer>{children}</StyledContainer>\n    </>\n  );\n};\n","import Table from \"@material-ui/core/Table\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useLocale } from \"contexts/LocaleContext\";\nimport { localeMap } from \"providers/LocaleProvider\";\nimport styled from \"@emotion/styled\";\n\nconst StyledPaper = styled(Paper)`\n  overflow: hidden;\n`;\n\nconst LocaleDebug = () => {\n  const { locale, t } = useLocale();\n  const map = localeMap[locale];\n\n  return (\n    <StyledPaper>\n      <Toolbar>\n        <Typography>{t(\"locale_data\")}</Typography>\n      </Toolbar>\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t(\"key\")}</TableCell>\n              <TableCell>{t(\"value\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {Object.keys(map).map((key) => (\n              <TableRow key={key}>\n                <TableCell>{key}</TableCell>\n                <TableCell>{map[key]}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </StyledPaper>\n  );\n};\n\nexport default LocaleDebug;\n","import Table from \"@material-ui/core/Table\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useLocalStorage } from \"contexts/LocalStorageContext\";\nimport { useLocale } from \"contexts/LocaleContext\";\nimport styled from \"@emotion/styled\";\n\nconst StyledPaper = styled(Paper)`\n  overflow: hidden;\n`;\n\nconst LocalStorageDebug = () => {\n  const { keys, getItem } = useLocalStorage();\n  const { t } = useLocale();\n\n  return (\n    <StyledPaper>\n      <Toolbar>\n        <Typography>{t(\"local_storage_data\")}</Typography>\n      </Toolbar>\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t(\"key\")}</TableCell>\n              <TableCell>{t(\"value\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {keys().map((key) => (\n              <TableRow key={key}>\n                <TableCell>{key}</TableCell>\n                <TableCell>{JSON.stringify(getItem(key))}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </StyledPaper>\n  );\n};\n\nexport default LocalStorageDebug;\n","import { makeRoutes } from \"contexts/RouteContext\";\nimport { DefaultLayout } from \"components/common/Layout\";\nimport LocaleDebug from \"./LocaleDebug\";\nimport LocalStorageDebug from \"./LocalStorageDebug\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport TranslateIcon from \"@material-ui/icons/Translate\";\nimport { useLocale } from \"contexts/LocaleContext\";\n\nconst DebugContent = () =>\n  makeRoutes({\n    \"/locale\": LocaleDebug,\n    \"/local-storage\": LocalStorageDebug,\n  });\n\nconst Debug = () => {\n  const { t } = useLocale();\n\n  const menuItems = [\n    {\n      path: \"/\",\n      title: \"Home\",\n      icon: <HomeIcon />,\n    },\n    {\n      path: \"/debug/local-storage\",\n      title: t(\"local_storage_data\"),\n      icon: <StorageIcon />,\n    },\n    {\n      path: \"/debug/locale\",\n      title: t(\"locale_data\"),\n      icon: <TranslateIcon />,\n    },\n  ];\n\n  return (\n    <DefaultLayout title=\"debug\" menuItems={menuItems}>\n      <DebugContent />\n    </DefaultLayout>\n  );\n};\n\nexport default Debug;\n","import { makeRoutes } from \"contexts/RouteContext\";\n\nimport Debug from \"./debug\";\n\nconst Home = () => {\n  return <div>Home</div>;\n};\n\nconst App = () =>\n  makeRoutes({\n    \"/\": Home,\n    \"/debug\": Debug,\n  });\n\nexport default App;\n","import { render } from \"react-dom\";\nimport { flowRight } from \"lodash\";\nimport { withLocalStorage } from \"providers/LocalStorageProvider\";\nimport { withLocale } from \"providers/LocaleProvider\";\nimport { withTheme } from \"providers/ThemeProvider\";\nimport { withRoute } from \"providers/RouteProvider\";\n\nimport Containers from \"containers\";\n\nconst App = flowRight(\n  withLocalStorage,\n  withLocale,\n  withTheme,\n  withRoute\n)(Containers);\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}